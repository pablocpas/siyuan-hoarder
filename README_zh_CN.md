# 思源笔记-Karakeep同步插件

## 概述

思源笔记-Karakeep是一个为[思源笔记](https://github.com/siyuan-note/siyuan)开发的插件，提供从[Karakeep](https://karakeep.com/)（前身为Hoarder）到思源笔记的单向同步功能。这使您能够自动将Karakeep书签保存为思源笔记中的文档。

## 功能特点

- **单向同步**从Karakeep到思源笔记
- **自动同步**，可配置同步间隔
- **手动同步**按需执行
- **选择性同步**基于书签属性：
  - 可选择排除已归档的书签
  - 可选择只同步收藏的书签
  - 可选择排除带有特定标签的书签
- **资源处理** - 可选择将图片下载到本地或使用外部链接
- **元数据保存** - Karakeep元数据作为属性保存在思源笔记文档中
- **更新处理** - 可选择在书签变更时更新现有文档

## 安装方法

1. 从[GitHub发布页面](https://github.com/pablocpas/siyuan-karakeep/releases)下载最新版本
2. 将zip文件解压到思源笔记的插件目录：
   - Windows: `{workspace}/data/plugins/`
   - macOS: `{workspace}/data/plugins/`
   - Linux: `{workspace}/data/plugins/`
   - Android/iOS: `{workspace}/data/plugins/`
3. 重启思源笔记或重新加载插件
4. 在思源笔记的集市标签页中启用插件

## 配置说明

安装后，您需要配置以下内容：

1. **Karakeep API密钥** - 从Karakeep设置中获取
2. **API端点** - 通常为`https://api.hoarder.app/api/v1`（默认）或您的自托管URL
3. **目标思源笔记本** - 选择接收书签的笔记本
4. **同步间隔** - 自动同步的频率（分钟），设置为0则禁用自动同步
5. **排除标签** - 以逗号分隔的标签列表；带有这些标签的书签不会被同步（除非已收藏）
6. **更新设置**：
   - 启用/禁用在书签变更时更新现有文档
   - 选择是否排除已归档书签
   - 决定是否只同步收藏的书签
   - 选择将资源下载到本地还是使用外部链接

## 使用方法

配置完成后，插件将：

1. 按指定间隔自动将Karakeep书签同步到思源笔记
2. 您可以使用设置中的"立即同步"按钮触发手动同步
3. 您也可以使用命令面板并触发"同步Karakeep书签"

书签将作为Markdown文档创建在您选择的笔记本中，包含：
- 基于书签标题或URL的标题
- 图片预览（如果可用）
- URL和描述
- 书签摘要和笔记
- 返回Karakeep的链接

## 文档结构

每个同步的书签将创建一个包含以下内容的文档：

```markdown
# [书签标题]

[图片（如果可用）]

**URL:** [URL](URL)

## 摘要

[书签摘要（如果可用）]

## 描述

[书签描述（如果可用）]

## 笔记

[您在Karakeep中的笔记]

----
[在Karakeep中查看](原始书签链接)
```

## 故障排除

- **API认证问题**：确保您的API密钥正确且未过期
- **同步失败**：查看控制台日志以获取详细错误信息
- **文档缺失**：验证您的笔记本选择和过滤设置
- **更新问题**：如果您希望Karakeep的更改同步过来，请确保启用"更新现有文档"

## 致谢

- 开发者：Pablo Caño
- 基于Karakeep（前身为Hoarder）API
- 为思源笔记社区开发

## 许可证

[MIT许可证](LICENSE)

## 贡献

欢迎贡献！请随时提交Pull Request。